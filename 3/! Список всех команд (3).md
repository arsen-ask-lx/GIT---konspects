# 3.2 Создание и переключение

```bash
# Создаем новую ветку с именем "feature" на основе текущего коммита (HEAD)
git branch feature

# Переключаемся на ветку "feature".
# Теперь указатель HEAD указывает на ветку "feature", и все изменения будут фиксироваться в ней.
git checkout feature

# Альтернативно, можно создать новую ветку "feature" и сразу переключиться на неё одной командой:
git checkout -b feature
```

# 3.3 checkout при незакоммиченных изменениях

```bash
# Принудительный checkout текущего коммита HEAD.
# Флаг -f (force) позволяет сбросить любые незакоммиченные изменения и обновить состояние рабочей директории.
git checkout -f HEAD

# Если не указываем коммит, по умолчанию используется HEAD.
git checkout -f

======================

# Сохраняем незакоммиченные изменения в специальном хранилище (stash).
# Это позволяет очистить рабочую директорию и переключиться на другую ветку без конфликтов.
git stash

# После решения проблемы и переключения обратно на ветку с сохраненными изменениями, можно восстановить их командой:
git stash pop
```


# 3.5 Перенос веток "вручную"

```bash
# Создаем новую ветку "fix" на основе текущего состояния и переключаемся на неё.
git branch fix
git checkout fix

# Перемещаем ветку "master" на коммит с идентификатором 54o4.
# Флаг -f (force) принудительно перемещает ветку, даже если она уже существует.
git branch -f master 54o4

# Альтернативные способы создания и переключения на ветку "master":
# Создаем ветку "master" на основе текущего коммита (HEAD) и переключаемся на неё.
git checkout -b master HEAD
# Или, если не указываем коммит, то по умолчанию используется HEAD:
git checkout -b master

# Принудительно перемещаем (или создаем) ветку "master" так, чтобы она указывала на коммит 54o4, и переключаемся на неё.
git checkout -B master 54o4
```


# 3.7 Восстановление предыдущих версий файлов

```bash
# Извлекаем версию файла index.py из коммита 50o4 и записываем её в рабочую директорию.
git checkout 50o4 index.py

# Восстанавливаем файл index.py из текущего коммита (HEAD).
git checkout HEAD index.py
```

# 3.8 Просмотр истории и старых файлов


```bash
# Вывод полной истории коммитов с подробной информацией.
git log

# Вывод истории коммитов в сокращённом формате (одна строка на коммит).
git log --oneline

# Показывает подробную информацию о текущем (HEAD) коммите.
git show

# Показывает информацию о родительских коммитах относительно HEAD:
# HEAD~ - родительский коммит (на один коммит назад)
git show HEAD~
# HEAD~~ или HEAD~2 - два коммита назад
git show HEAD~~
git show HEAD~2
# HEAD~3 - три коммита назад
git show HEAD~3

# Использование @ как синонима для HEAD:
git show @~

# В Windows для указания коммита с родительским сдвигом нужно заключить в кавычки:
git show '@~'

# Можно указать любую ветку с отступом от текущего коммита этой ветки:
git show master~

=========

# Извлекаем версию файла index.py из родительского коммита (один коммит назад от текущего HEAD)
git checkout @~ index.py

# Показываем содержимое файла index.py из родительского коммита (один коммит назад от HEAD) без изменения рабочей директории
git show @~:index.py

```


# 3.9 - Слияние веток "перемоткой"


```bash
# Сливаем ветку "fix" в текущую ветку.
git merge fix 

# Просматриваем содержимое файла .git/ORIG_HEAD,
# который содержит ссылку на предыдущую позицию HEAD перед выполнением слияния.
cat .git/ORIG_HEAD

# Перемещаем ветку "master" на коммит, указанный в файле ORIG_HEAD,
# возвращая её к состоянию до слияния.
git branch -f master ORIG_HEAD

# Принудительно создаем (или перемещаем) ветку "master" так, чтобы она указывала на ветку "fix",
# и переключаемся на неё.
git checkout -B master fix
```


# 3.10 Удаление веток

```bash
# Удаляем ветку "fix" (без принудительного удаления, команда выдаст ошибку, если ветка не слита).
git branch -d fix

# Принудительно удаляем ветку "feature", даже если она не слита.
git branch -D feature

```


# 3.11 лог ссылок reflog

```bash
# Просмотр лога ссылок для HEAD.
# Здесь хранится история перемещений указателя HEAD.
cat .git/logs/HEAD

# Вывод лога ссылок для ветки "master".
git reflog master

# Вывод лога ссылок для текущего HEAD.
git reflog HEAD

# Создаем ветку "feature" и привязываем её к состоянию HEAD, как оно было 6 перемещений назад в reflog.
git branch feature HEAD@{6}

# Переключаемся на предыдущую ветку (альтернативный способ: использование @{-1}).
git checkout @{-1}

# Еще один способ переключения на предыдущую ветку.
git checkout -

```


