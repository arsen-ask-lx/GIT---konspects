
[Лекция 3.5](https://www.youtube.com/watch?v=6oZG-pAeHRE&list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb&index=15)

**Исходная ситуация**

- В основной ветке master были сделаны несколько коммитов, которые по логике должны находиться в отдельной ветке (например, fix).
- В результате новые коммиты оказались в master, а не в отдельной ветке fix, как планировалось.

![[Pasted image 20250220001702.png]]

**Решение проблемы**

- **Шаг 1. Создание новой ветки fix:**
    
    - Создаётся ветка fix, указывающая на текущий коммит. В этой ветке будут находиться коммиты, сделанные ошибочно в master.

- **Шаг 2. Перемещение указателя ветки master:**
    
    - Требуется сдвинуть ветку master назад (на более ранний коммит), чтобы оставить в ней только правильную историю.
    - Используется команда `git branch` с флагом `--force` (или коротко `-f`), которая позволяет создать ветку с указанным именем или переместить существующую.
    - Таким образом, ветка master перемещается на выбранный коммит, а последние коммиты остаются только в ветке fix.

- **Шаг 3. Возможность отката изменений:**
    
    - При необходимости можно переместить ветку master обратно на ту же точку, на которую указывает ветка fix, снова используя команду с флагом force.

---

**3. Дополнительные инструменты и команды**

- **Команда `git branch -f <branch> <id_commit>`:**
    
```bash
git branch fix
git checkout fix
git branch -f master 54o4
```

![[Pasted image 20250220001844.png]]
![[Pasted image 20250220001859.png]]


- **Команда `git switch -c -B <branch> <commit>` (аналог команды `git checkout -b -B`):**
    
    - Позволяет создать новую ветку с указанным именем на выбранном коммите и сразу переключиться на неё.
    - Если ветка уже существует, флаг `-B` заставляет переместить её указатель на данный коммит и переключиться на неё.


У нас была команда 

```bash
git checkout -b master HEAD
git checkout -b master


git checkouy -B master 54o4
```


