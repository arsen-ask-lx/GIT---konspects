
[Лекция 3.3](https://www.youtube.com/watch?v=KxKjBneF_NI&list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb&index=13)

Допустим, я работаю в ветке `feature`, сделал один коммит и сейчас вношу изменения для следующего. В этот момент ко мне обращается коллега и говорит:  

_"У нас срочная проблема в `master`, переключись и исправь!"_

```bash
git checkout master
```

Однако мы получаем **ошибку**. Почему?

<p align="justify">Ранее мы переключались между ветками, когда рабочая директория была чистой. Теперь же у нас есть незаконченные изменения, и `checkout` защищает их. Если он заменит `script.js` версией из `master`, текущие изменения пропадут.</p>

<p align="justify">Закомитить их пока нельзя, так как коммит предполагает осмысленные, завершённые изменения. Что делать?</p>

---
### Два варианта решения проблемы

#### Вариант 1: Принудительное переключение (с потерей изменений)

<p align="justify">Если изменения не нужны, можно заставить `checkout` переключиться с флагом `-f`:</p>

```bash
git checkout -f HEAD
```

Это **перезапишет** все файлы версиями из `master`, и изменения пропадут.

Иногда флаг `-f` используют без указания ветки. В этом случае `Git` просто сбросит **все незакомиченные изменения** в текущей ветке.

```bash
git checkout -f HEAD
git checkout -f      # тоже самое что и сверху
```

---
#### Вариант 2: Сохранение изменений с `stash`

Если изменения **важны**, их можно временно сохранить с помощью `git stash`:

```bash
git stash 

#Эта команда удаляет незаконченные изменения из рабочей директории и **сохраняет их в специальном хранилище**. Теперь переключение на `master` пройдёт без ошибок

#После исправления проблемы можно вернуться в `feature` и восстановить изменения

git stash pop
```



